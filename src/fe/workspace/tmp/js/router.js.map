{"version":3,"sources":["../../js/vue/router.js"],"names":[],"mappings":"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","file":"router.js","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport OverView from './over_view'\nimport AlarmConfiguration from './alarm_configuration'\nimport ActionAnalysis from './action_analysis'\nimport NotFound from './not_found'\nimport Auth from '../auth'\n\n\n// 全局变量vm\nvar vm;\n// 全局变量router\nvar router;\n\nconst Router = (($) => {\n  $(document).ready(function(){\n\n    // 认证相关的工具类\n    const auth = new Auth()\n\n    // 基础数据\n    const basicData = {\n      'root': {\n        path: '/',\n        component: OverView.OverView,\n        navLink: 'over_view',\n        currentModule: '全局概览',\n        currentSubModule: '全局概览',\n        startupFunc: OverView.pageAction\n      },\n      'over_view': {\n        path: '/over_view',\n        component: OverView.OverView,\n        navLink: 'over_view',\n        currentModule: '全局概览',\n        currentSubModule: '全局概览',\n        startupFunc: OverView.pageAction\n      },\n      'action_analysis': {\n        path: '/action_analysis',\n        component: ActionAnalysis.ActionAnalysis,\n        navLink: 'action_analysis',\n        currentModule: '行为分析',\n        currentSubModule: '行为分析',\n        startupFunc: ActionAnalysis.pageAction\n      },\n      'alarm_configuration': {\n        path: '/alarm_configuration',\n        component: AlarmConfiguration.AlarmConfiguration,\n        navLink: 'alarm_configuration',\n        currentModule: '告警配置',\n        currentSubModule: '告警配置',\n        startupFunc: AlarmConfiguration.pageAction\n      },\n      'not_found':{\n        path: '*',\n        component:NotFound.NotFound,\n        navLink: 'not_found',\n        currentModule: '页面不存在',\n        currentSubModule: '页面不存在',\n        startupFunc: NotFound.pageAction\n      }\n    }\n\n    // 路由\n    var routes = [];\n    for (var [key, value] of Object.entries(basicData)) {\n      var record = {\n        path: value['path'],\n        component: value['component'],\n        name: key,\n      }\n      routes.push(record)\n    }\n\n    router = new VueRouter({\n      mode: 'history',\n      routes: routes\n    })\n\n    router.afterEach(router => {\n      vm.navLink = basicData[router.name]['navLink']\n      vm.currentModule = basicData[router.name]['currentModule']\n      vm.currentSubModule = basicData[router.name]['currentSubModule']\n      basicData[router.name].startupFunc()\n    })\n\n    router.beforeEach((to, from, next) => {\n      console.log('global beforeEach')\n      console.log(to.fullPath)\n      //认证\n      auth.get_current_user_info(\n        (userinfo) => {\n          vm.currentUM = userinfo['um']\n          next()\n        },\n        to.fullPath\n      )\n    })\n\n    vm = new Vue({\n        data: {\n          navLink: 'status',\n          currentUM: 'UNKNOWN',\n          currentModule: '加载中',\n          currentSubModule: '加载中',\n          globalNoticeMsg: '',\n        },\n        router: router\n      }).$mount('#app')\n\n\n      // 加载页面\n      $('#laup_loadding_page').css('display', 'none')\n      $('#app').css('display', 'block')\n    })\n\n})(jQuery)\n\nexport default Router\n"]}